"use strict";(function(){var t=["elevator.jpg","hand.png","last-1.png","last-2.png","last-3.png","last-4.png","last-5.png","light-by.png","light-sp.png","light-ss.png","light-sy.png","light-sz.png","light-tc.png","modal-lottery.png","modal-que-by.png","modal-que-sp.png","modal-que-ss.png","modal-que-sy.png","modal-que-sz.png","modal-que-tc.png","modal-tip.png","right.png","wrong.png"],o=function(){function t(){if(u.addClass("active"+r),g&&(f++,c=Math.floor(o(f,50,500,m)),f==m))return g=!1,void setTimeout(function(){p=!0,$(".modal-lottery").hide()},1e3);setTimeout(function(){u.removeClass("active"+r),r++,5===r&&(r=0),t()},c)}function o(t,o,e,n){return e*(t/=n)*t*t*t*t+o}function e(t,o){return t>o?t-o:t<o?5-o+t:0}function n(){p&&(p=!1,g=!1,h=0,m=0,f=0,c=50,t())}function i(){p||g||(h=Math.floor(5*Math.random()),g=!0,m=e(h,r)+5)}var a;$(".orientLayer").on("touchstart",function(){return!1});var s=document.getElementById("video1"),l=document.getElementById("video2");$(".startLayer").on("click",function(){$(this).hide(),$("#video1").addClass("opacity").show(),s.play()}),s.addEventListener("ended",function(){$("#video1").removeClass("opacity").hide(),$(".elevator").addClass("opacity").show()}),$(".elevator").on("click",function(){$(this).hide(),$("#video2").addClass("opacity").show(),l.play()}),l.addEventListener("ended",function(){$("#video2").removeClass("opacity").hide(),$("#pano").addClass("opacity").show()}),embedpano({swf:"tour.swf",xml:"tour.xml",target:"pano",html5:"auto",mobilescale:1,passQueryParameters:!0,consolelog:!0,onready:function(t){a=t}}),window.openQue=function(t){$(".modal-que-"+t).show()};var d=0;window.inTD=function(t){$(".modal-tip").show(),d=0},$(".modal-tip").click(function(){$(this).hide()}),$(".modal-que .answer").click(function(){var t=this,o=$(this).attr("data-right");o?($(this).addClass("right"),setTimeout(function(){$(t).removeClass("right"),$(".modal-que").hide(),a.call("set(hotspot[light-"+o+"].visible,false);"),d++,6===d?$(".modal-lottery").show():($(".last-"+(6-d)).show(),setTimeout(function(){$(".last-"+(6-d)).hide()},1e3))},1e3)):($(this).addClass("wrong"),setTimeout(function(){$(t).removeClass("wrong")},1e3))}),$(".btn-lottery").click(function(){p&&(n(),setTimeout(function(){i()},2e3))});var r=0,u=$(".active"),c=50,g=!1,p=!0,h=0,m=0,f=0};!function(o){function e(t){console.log("error:",t)}function n(t){var o=100*a.progress;$(".loadingLayout .count").text(o.toFixed()+"%")}function i(){$(".loadingLayout").hide(),o()}if(0==t.length)return void i();var a=new createjs.LoadQueue(!1,"./assets/");a.on("error",e),a.on("progress",n),a.on("complete",i);for(var s=0;s<t.length;s++)a.loadFile(t[s])}(function(){o()})}).call(void 0);