"use strict";(function(){var t=["last-1.png","last-2.png","last-3.png","last-4.png","last-5.png","light-by.png","light-sp.png","light-ss.png","light-sy.png","light-sz.png","light-tc.png","modal-lottery.png","modal-que-by.png","modal-que-sp.png","modal-que-ss.png","modal-que-sy.png","modal-que-sz.png","modal-que-tc.png","modal-tip.png","right.png","wrong.png"],o=function(){function t(){if(u.addClass("active"+r),c&&(f++,d=Math.floor(o(f,50,500,h)),f==h))return c=!1,void setTimeout(function(){g=!0,$(".modal-lottery").hide()},1e3);setTimeout(function(){u.removeClass("active"+r),r++,5===r&&(r=0),t()},d)}function o(t,o,n,e){return n*(t/=e)*t*t*t*t+o}function n(t,o){return t>o?t-o:t<o?5-o+t:0}function e(){g&&(g=!1,c=!1,p=0,h=0,f=0,d=50,t())}function i(){g||c||(p=Math.floor(5*Math.random()),c=!0,h=n(p,r)+5)}var a;$(".orientLayer").on("touchstart",function(){return!1});var s=document.getElementById("video");$(".startLayer").on("click",function(){$(this).hide(),$("#video").addClass("opacity").show(),s.play()}),s.addEventListener("ended",function(){$("#video").removeClass("opacity").hide(),$("#pano").addClass("opacity").show()}),embedpano({swf:"tour.swf",xml:"tour.xml",target:"pano",html5:"auto",mobilescale:1,passQueryParameters:!0,consolelog:!0,onready:function(t){a=t}}),window.openQue=function(t){$(".modal-que-"+t).show()};var l=0;window.inTD=function(t){$(".modal-tip").show(),l=0},$(".modal-tip").click(function(){$(this).hide()}),$(".modal-que .answer").click(function(){var t=this,o=$(this).attr("data-right");o?($(this).addClass("right"),setTimeout(function(){$(t).removeClass("right"),$(".modal-que").hide(),a.call("set(hotspot[light-"+o+"].visible,false);"),l++,6===l?$(".modal-lottery").show():($(".last-"+(6-l)).show(),setTimeout(function(){$(".last-"+(6-l)).hide()},1e3))},1e3)):($(this).addClass("wrong"),setTimeout(function(){$(t).removeClass("wrong")},1e3))}),$(".btn-lottery").click(function(){g&&(e(),setTimeout(function(){i()},2e3))});var r=0,u=$(".active"),d=50,c=!1,g=!0,p=0,h=0,f=0};!function(o){function n(t){console.log("error:",t)}function e(t){var o=100*a.progress;$(".loadingLayout .count").text(o.toFixed()+"%")}function i(){$(".loadingLayout").hide(),o()}if(0==t.length)return void i();var a=new createjs.LoadQueue(!1,"./assets/");a.on("error",n),a.on("progress",e),a.on("complete",i);for(var s=0;s<t.length;s++)a.loadFile(t[s])}(function(){o()})}).call(void 0);